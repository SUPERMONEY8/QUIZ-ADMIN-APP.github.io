# دليل المستخدم - نظام إدارة التوزيع الشهري

## المحتويات

1. [مقدمة](#مقدمة)
2. [بدء الاستخدام](#بدء-الاستخدام)
3. [إضافة الأعضاء](#إضافة-الأعضاء)
4. [إدارة المجموعات](#إدارة-المجموعات)
5. [التوليد الشهري](#التوليد-الشهري)
6. [عرض النتائج](#عرض-النتائج)
7. [السجلات والتاريخ](#السجلات-والتاريخ)
8. [النسخ الاحتياطي والاستعادة](#النسخ-الاحتياطي-والاستعادة)
9. [الإعدادات](#الإعدادات)
10. [حل المشاكل](#حل-المشاكل)

---

## مقدمة

**نظام إدارة التوزيع الشهري** هو تطبيق سطح مكتب مصمم لإدارة توزيع المهام الشهرية للموظفين في مختلف المجموعات. التطبيق يعمل بشكل كامل دون الحاجة إلى اتصال بالإنترنت.

### المميزات الرئيسية:

- ✅ إدارة شاملة للأعضاء والمجموعات
- ✅ توليد تلقائي للتعيينات الشهرية
- ✅ أنظمة توزيع متعددة (ثابت، دوران، متناوب)
- ✅ تتبع التاريخ والاستبعاد
- ✅ نسخ احتياطي واستعادة
- ✅ واجهة عربية كاملة (RTL)
- ✅ يعمل بدون إنترنت

---

## بدء الاستخدام

### التثبيت

1. قم بتحميل ملف التثبيت: `نظام إدارة التوزيع-1.0.0-Setup.exe`
2. شغّل الملف واتبع معالج التثبيت
3. اختر مجلد التثبيت (افتراضي: `C:\Program Files\نظام إدارة التوزيع`)
4. انقر "تثبيت" وانتظر اكتمال العملية

### التشغيل الأول

عند أول تشغيل للتطبيق:
- سيتم إنشاء قاعدة البيانات تلقائياً
- سيتم تطبيق الإعدادات الافتراضية
- يمكنك البدء في إضافة الأعضاء فوراً

### الواجهة الرئيسية

- **الشريط الجانبي**: يحتوي على روابط التنقل الرئيسية
- **منطقة المحتوى**: تعرض المحتوى حسب القسم المحدد
- **الرأس**: عنوان التطبيق

---

## إضافة الأعضاء

### خطوات إضافة عضو جديد:

1. انقر على "إضافة الأعضاء" من القائمة الجانبية
2. انقر على زر "إضافة عضو جديد"
3. املأ النموذج:
   - **الاسم** (مطلوب): اسم العضو الكامل
   - **رقم الموظف** (اختياري): رقم تعريف الموظف
   - **البريد الإلكتروني** (اختياري): بريد العضو
   - **اختيار المجموعة** (مطلوب): اختر المجموعة المناسبة
4. انقر "إضافة"

### المجموعات المتاحة:

- **مجموعة DCC**: توزيع ثابت (جميع الأعضاء كل شهر)
- **مجموعة الصحة**: توزيع دوراني (عضو واحد شهرياً)
- **مجموعة الطهي**: توزيع متناوب
- **مجموعة السواقة**: توزيع متناوب
- **مجموعة الضباط**: توزيع دوراني (2 أعضاء شهرياً)
- **تحت الضباط**: 3 حملات (9 أعضاء شهرياً)
- **HDT**: 3 تجمعات (54 عضو شهرياً)

### ملاحظات:

- الاسم مطلوب ويجب أن يكون على الأقل حرفين
- رقم الموظف يجب أن يكون رقماً صحيحاً
- البريد الإلكتروني يجب أن يكون بصيغة صحيحة

---

## إدارة المجموعات

### عرض المجموعات:

1. انقر على "إدارة المجموعات" من القائمة
2. اختر تبويب المجموعة المطلوبة:
   - DCC
   - Santé
   - Cook & Drive
   - Officiers
   - Sous-Officiers
   - HDT

### العمليات المتاحة:

#### عرض الأعضاء:
- جدول يعرض جميع أعضاء المجموعة
- عدد الأعضاء معروض في الأعلى
- البحث بالاسم متاح

#### إضافة عضو:
- انقر "إضافة عضو"
- املأ النموذج
- سيتم إضافته للمجموعة المحددة

#### تعديل عضو:
- انقر على اسم العضو في الجدول
- عدّل المعلومات
- احفظ التغييرات

#### حذف عضو:
- انقر على زر "حذف" بجانب العضو
- أكّد الحذف
- سيتم حذف العضو نهائياً

---

## التوليد الشهري

### خطوات توليد التعيينات:

1. انقر على "التوليد الشهري" من القائمة
2. اختر الشهر والسنة من التقويم
3. راجع المعاينة:
   - DCC: جميع الأعضاء
   - Santé: عضو واحد
   - Cook & Drive: 1-2 حسب الشهر
   - Officers: عضوين
   - Sous-Officiers: 9 أعضاء
   - HDT: 54 عضو
4. راجع التحذيرات (إن وجدت)
5. انقر "توليد التعيينات"

### أنظمة التوزيع:

#### نظام DCC (ثابت):
- جميع أعضاء DCC يحصلون على "X" كل شهر
- لا يوجد دوران

#### نظام Santé (دوران):
- عضو واحد من Santé كل شهر
- يتم الدوران تلقائياً

#### نظام Cook & Drive (متناوب):
- **شهر فردي** (1, 3, 5, 7, 9, 11): 1 Cook + 1 Driver
- **شهر زوجي** (2, 4, 6, 8, 10, 12): 1 Cook + 2 Drivers

#### نظام Officers (دوران):
- عضوين كل شهر
- لا تكرار حتى يتم توزيع الجميع
- إعادة تعيين في يناير

#### نظام Sous-Officiers (3 حملات):
- 3 أعضاء من كل حملة (C1, C2, C3)
- إجمالي 9 أعضاء شهرياً
- دوران مستقل لكل حملة

#### نظام HDT (3 تجمعات):
- 18 عضو من كل تجمع
- إجمالي 54 عضو شهرياً
- دوران مستقل لكل تجمع

### المعاينة:

قبل التوليد، يمكنك:
- معاينة التعيينات المتوقعة
- التحقق من عدد الأعضاء
- مراجعة التحذيرات

### خيار "معاينة فقط":

- حدد "معاينة فقط" لعرض التعيينات دون حفظ
- مفيد للتحقق قبل التوليد الفعلي

---

## عرض النتائج

بعد توليد التعيينات:

### الجدول الرئيسي:

- يعرض جميع التعيينات للشهر المحدد
- أعمدة: الشهر، المجموعة، الاسم، النوع، التاريخ
- ألوان مختلفة لكل مجموعة

### الترتيب:

- **حسب المجموعة**: تجميع حسب نوع المجموعة
- **حسب العضو**: ترتيب أبجدي للأسماء
- **حسب النوع**: تجميع حسب نوع التعيين

### الإحصائيات:

- عدد الأعضاء المعينين
- عدد المجموعات المكتملة
- رسالة تأكيد عدم وجود تعارضات

### التصدير:

#### تصدير CSV:
- انقر "تصدير CSV"
- احفظ الملف
- يمكن فتحه في Excel

#### تصدير PDF:
- انقر "تصدير PDF"
- يتم إنشاء ملف PDF مع دعم العربية
- جاهز للطباعة

#### الطباعة:
- انقر "طباعة"
- اختر الطابعة
- اضبط الإعدادات واطبع

### إدارة الشهر:

#### مسح الشهر:
- انقر "مسح هذا الشهر"
- أكّد العملية
- سيتم حذف جميع تعيينات الشهر

#### العودة للقائمة:
- انقر "العودة للقائمة"
- العودة لاختيار شهر جديد

---

## السجلات والتاريخ

### عرض السجلات:

1. انقر على "السجلات" من القائمة
2. يعرض جدول بجميع التعيينات التاريخية

### الفلاتر:

#### البحث بالاسم:
- اكتب اسم العضو في مربع البحث
- يتم التصفية تلقائياً

#### التصفية حسب المجموعة:
- اختر مجموعة من القائمة المنسدلة
- يعرض تعيينات المجموعة فقط

#### التصفية حسب التاريخ:
- اختر نطاق تاريخي
- يعرض التعيينات في الفترة المحددة

#### التصفية حسب الشهر:
- اختر شهر وسنة
- يعرض تعيينات الشهر فقط

### الإحصائيات:

- عدد التعيينات لكل عضو (سنوياً)
- تمييز الأعضاء المعينين أكثر من مرة (برتقالي)

### التصدير:

- انقر "تصدير CSV" لحفظ السجلات
- يمكن فتح الملف في Excel

### مسح السجلات القديمة:

- انقر "مسح السجلات القديمة"
- أكّد العملية
- يحذف السجلات الأقدم من سنة

---

## النسخ الاحتياطي والاستعادة

### إنشاء نسخة احتياطية:

#### نسخة يدوية:
1. انتقل إلى "الإعدادات"
2. في قسم "إدارة النسخ الاحتياطية"
3. انقر "إنشاء نسخة احتياطية"
4. سيتم إنشاء نسخة في مجلد النسخ الاحتياطية

#### نسخة تلقائية:
- فعّل "النسخ الاحتياطي التلقائي عند التشغيل" في الإعدادات
- سيتم إنشاء نسخة تلقائياً عند كل تشغيل

### موقع النسخ الاحتياطية:

- `%APPDATA%\نظام إدارة التوزيع\backups\`
- اسم الملف: `backup_YYYY-MM-DD_HHmmss.db`

### استعادة نسخة احتياطية:

1. انتقل إلى "الإعدادات"
2. في قسم "إدارة النسخ الاحتياطية"
3. اختر النسخة من القائمة
4. انقر "استعادة"
5. أكّد العملية
6. سيتم إعادة تشغيل التطبيق تلقائياً

### حذف نسخة احتياطية:

1. اختر النسخة من القائمة
2. انقر "حذف"
3. أكّد الحذف

### معلومات القرص:

- يعرض المساحة المستخدمة
- يعرض المساحة المتاحة
- يساعد في إدارة النسخ الاحتياطية

---

## الإعدادات

### إعدادات المظهر:

- **نظام الألوان**: الزيتوني (#4E5B31) - الحالي
- يمكن معاينة أنظمة ألوان أخرى (قريباً)

### اللغة:

- **العربية (RTL)** - الحالية
- الإنجليزية (LTR) - قريباً

### إعدادات التطبيق:

- **النسخ الاحتياطي التلقائي**: فعّل/عطّل النسخ التلقائي
- **إظهار رسائل التأكيد**: فعّل/عطّل رسائل التأكيد
- **تمييز الصفوف**: فعّل/عطّل تمييز الصفوف في الجداول
- **حجم الخط**: 12-16 بكسل

### حول التطبيق:

- **الإصدار**: 1.0.0
- **تاريخ البناء**: [تاريخ البناء]
- **إصدار Bun**: [إصدار Bun]
- **إصدار Electron**: [إصدار Electron]
- **مسار قاعدة البيانات**: [مسار قاعدة البيانات]

### إعادة التعيين:

- انقر "إعادة تعيين إلى الافتراضيات"
- أكّد العملية
- سيتم استعادة جميع الإعدادات الافتراضية

---

## حل المشاكل

### التطبيق لا يفتح:

**الحلول:**
1. تحقق من تثبيت التطبيق بشكل صحيح
2. أعد تشغيل الكمبيوتر
3. أعد تثبيت التطبيق
4. تحقق من سجل الأحداث في Windows

### خطأ في قاعدة البيانات:

**الحلول:**
1. تحقق من وجود ملف قاعدة البيانات:
   - `%APPDATA%\نظام إدارة التوزيع\database\pme.db`
2. استعد من نسخة احتياطية
3. إذا لم توجد نسخة، أعد تثبيت التطبيق

### بطء في الأداء:

**الحلول:**
1. تحقق من حجم قاعدة البيانات
2. امسح السجلات القديمة
3. أعد تشغيل التطبيق
4. تحقق من مساحة القرص المتاحة

### لا يمكن إضافة عضو:

**الحلول:**
1. تحقق من صحة البيانات المدخلة
2. تأكد من اختيار مجموعة
3. تحقق من عدم وجود عضو بنفس الاسم
4. أعد تشغيل التطبيق

### لا يمكن توليد التعيينات:

**الحلول:**
1. تحقق من وجود أعضاء في جميع المجموعات المطلوبة
2. راجع التحذيرات في المعاينة
3. تأكد من اختيار شهر صحيح
4. تحقق من عدم وجود تعيينات سابقة للشهر

### مشاكل في الطباعة/التصدير:

**الحلول:**
1. تحقق من وجود مساحة كافية على القرص
2. تأكد من صلاحيات الكتابة في المجلد
3. أعد تشغيل التطبيق
4. جرب تصدير CSV بدلاً من PDF

### النصوص لا تظهر بشكل صحيح:

**الحلول:**
1. تحقق من دعم النظام للعربية
2. أعد تشغيل التطبيق
3. تحقق من إعدادات الخط في Windows
4. أعد تثبيت التطبيق

### مشاكل في النسخ الاحتياطي:

**الحلول:**
1. تحقق من مساحة القرص المتاحة
2. تأكد من صلاحيات الكتابة
3. تحقق من وجود مجلد النسخ الاحتياطية
4. جرب إنشاء نسخة يدوية

---

## نصائح وأفضل الممارسات

### إدارة البيانات:

- **قم بعمل نسخة احتياطية بانتظام**: أسبوعياً أو شهرياً
- **امسح السجلات القديمة**: سنوياً لتقليل حجم قاعدة البيانات
- **راجع التعيينات**: قبل التوليد للتأكد من صحتها

### الأداء:

- **قلل عدد السجلات**: امسح السجلات القديمة بانتظام
- **أعد تشغيل التطبيق**: إذا لاحظت بطء
- **تحقق من المساحة**: تأكد من وجود مساحة كافية

### الأمان:

- **احفظ النسخ الاحتياطية**: في مكان آمن
- **لا تشارك قاعدة البيانات**: مع أشخاص غير مصرح لهم
- **احتفظ بنسخ متعددة**: من النسخ الاحتياطية

---

## الدعم الفني

### معلومات الاتصال:

- **البريد الإلكتروني**: dev@pme.local
- **الفريق**: PME Development Team

### الإبلاغ عن المشاكل:

عند الإبلاغ عن مشكلة، يرجى توفير:
- وصف المشكلة
- خطوات إعادة إنتاج المشكلة
- لقطات شاشة (إن أمكن)
- إصدار التطبيق
- نظام التشغيل

---

## التحديثات

### التحقق من التحديثات:

- التطبيق الحالي: 1.0.0
- للتحقق من التحديثات، راجع موقع التطبيق

### التحديث:

1. قم بتحميل الإصدار الجديد
2. قم بعمل نسخة احتياطية
3. شغّل المثبت الجديد
4. سيتم الحفاظ على بياناتك تلقائياً

---

## الخلاصة

**نظام إدارة التوزيع الشهري** يوفر حلاً شاملاً لإدارة التوزيعات الشهرية. باتباع هذا الدليل، يمكنك استخدام جميع المميزات بفعالية.

للمزيد من المعلومات أو الدعم، يرجى التواصل مع فريق التطوير.

---

**آخر تحديث**: 2024
**الإصدار**: 1.0.0

